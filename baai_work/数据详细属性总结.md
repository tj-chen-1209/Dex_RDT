# action176 数据集详细属性总结

## 📸 图像数据详细信息

### 图像维度与属性

每张图像的完整规格：

```python
# PIL Image 对象属性
size: (640, 480)           # (width, height)
mode: 'RGB'
format: 'JPEG'

# NumPy 数组属性
shape: (480, 640, 3)       # (height, width, channels)
                           # 高度=480, 宽度=640, 通道=3
dtype: uint8               # 8位无符号整数
pixel_range: [0, 255]      # 像素值范围
memory_size: 900 KB        # 未压缩内存占用
```

### 各相机统计信息

| 相机 | 文件大小 | 整体均值 | 整体标准差 | R均值 | G均值 | B均值 |
|------|---------|---------|-----------|-------|-------|-------|
| camera_head | ~84 KB | 110.35 | 67.14 | 109.06 | 110.89 | 111.10 |
| camera_left_wrist | ~49 KB | 137.13 | 74.35 | 137.07 | 140.32 | 134.01 |
| camera_right_wrist | ~61 KB | 121.26 | 75.00 | 119.26 | 124.58 | 119.94 |
| camera_third_view | ~102 KB | 107.17 | 92.38 | 103.35 | 111.42 | 106.75 |

### 像素数据示例

左上角 5×5 像素 (camera_head, R通道):
```
[[138 135 138 141 144]
 [133 134 139 140 139]
 [132 133 137 137 138]
 [133 135 137 137 140]
 [134 138 139 137 139]]
```

---

## 🤖 episode_0.bson 详细结构

### 文件基本信息
- **文件名:** episode_0.bson
- **文件大小:** 0.59 MB (604 KB)
- **数据点数:** 452 个时间点
- **采样频率:** 19.82 Hz
- **总时长:** 22.76 秒
- **主题数量:** 10 个数据流

### 1. 机械臂位姿数据 (Pose)

#### `/observation/left_arm/pose` 和 `/observation/right_arm/pose`

**数据结构:**
```python
{
  "t": 1760526694164,    # Unix时间戳(毫秒)
  "data": {
    "t": [x, y, z],      # 位移 (3维 float64)
    "r": [qx, qy, qz, qw] # 旋转四元数 (4维 float64)
  }
}
```

**左臂位姿统计 (452个数据点):**

位移 `t` (单位:米):
```
维度    最小值    最大值     均值     标准差    说明
  x    0.4590   0.5459   0.4824   0.0218    左右方向
  y    0.2009   0.3182   0.2843   0.0348    前后方向
  z    0.9079   0.9781   0.9345   0.0159    上下方向(高度)
```

旋转 `r` (四元数):
```
维度    最小值    最大值     均值     标准差
 qx   -0.4892  -0.1870  -0.3532   0.0690
 qy   -0.0820   0.2393   0.0696   0.0622
 qz   -0.3251  -0.0697  -0.1542   0.0774
 qw    0.8273   0.9362   0.9118   0.0252
```

**右臂位姿统计 (452个数据点):**

位移 `t` (单位:米):
```
维度    最小值    最大值     均值     标准差
  x    0.4616   0.6896   0.5471   0.0583
  y   -0.2942   0.0576  -0.1254   0.1154
  z    0.9279   1.1143   1.0110   0.0530
```

旋转 `r` (四元数):
```
维度    最小值    最大值     均值     标准差
 qx   -0.2897   0.5326   0.0416   0.2709
 qy   -0.0702   0.1953   0.0971   0.0696
 qz    0.2043   0.6771   0.4194   0.1578
 qw    0.7238   0.9489   0.8403   0.0606
```

### 2. 关节状态数据 (Joint State)

#### `/observation/left_arm/joint_state` - 左臂观测

**数据结构:**
```python
{
  "t": 1760526694164,  # 时间戳
  "data": {
    "pos": [j1, j2, j3, j4, j5, j6],  # 6维关节位置 (弧度)
    "vel": [v1, v2, v3, v4, v5, v6],  # 6维关节速度 (弧度/秒)
    "eff": [e1, e2, e3, e4, e5, e6]   # 6维关节力矩 (牛顿米)
  }
}
```

**左臂关节位置 `pos` 统计:**
```
关节   最小值    最大值     均值     标准差    运动范围
 J1    0.8040   1.2945   1.1725   0.1311    0.4905 rad (28°)
 J2   -1.1309  -0.9546  -1.0233   0.0510    0.1763 rad (10°)
 J3    0.9730   1.2079   1.0770   0.0638    0.2349 rad (13°)
 J4   -0.6418  -0.0761  -0.4593   0.1689    0.5657 rad (32°)
 J5   -1.5906  -0.5922  -1.1629   0.2261    0.9984 rad (57°)
 J6    0.6514   1.2076   0.9357   0.1183    0.5562 rad (32°)
```

**左臂关节速度 `vel` 统计 (弧度/秒):**
```
关节   最小值    最大值     均值     标准差
 J1   -0.3209   0.3297   0.0053   0.0841
 J2   -0.2242   0.2681   0.0003   0.0540
 J3   -0.3121   0.2330  -0.0098   0.0645
 J4   -0.8571   0.6081  -0.0151   0.1444
 J5   -0.7985   0.6520  -0.0334   0.1603
 J6   -0.4615   0.6374  -0.0113   0.1125
```

**左臂关节力矩 `eff` 统计 (牛顿米):**
```
关节   最小值    最大值     均值     标准差
 J1   -4.7106  -0.0366  -1.6696   0.7973
 J2    3.2308   7.3040   5.4051   0.7466
 J3   -1.2088   1.8828   0.6831   0.5937
 J4   -0.4127   0.4811   0.0490   0.1258
 J5   -3.6557  -1.4139  -3.0595   0.4122
 J6   -0.1929   0.1587  -0.0566   0.0670
```

#### `/observation/right_arm/joint_state` - 右臂观测

**右臂关节位置 `pos` 统计:**
```
关节   最小值    最大值     均值     标准差    运动范围
 J1   -1.2015  -0.1371  -0.5354   0.3329    1.0644 rad (61°)
 J2   -1.7718  -0.8787  -1.2435   0.2845    0.8931 rad (51°)
 J3    0.9676   1.8072   1.2430   0.2171    0.8396 rad (48°)
 J4   -2.9776   0.2661  -1.6041   1.1750    3.2437 rad (186°)⚠️
 J5   -1.5875   0.8852   0.1648   0.6414    2.4727 rad (142°)⚠️
 J6   -0.8326   2.7010   0.2268   1.1730    3.5336 rad (202°)⚠️
```
*⚠️ 注意: J4, J5, J6 运动范围较大，可能是灵活度高的关节*

**右臂关节速度 `vel` 统计:**
```
关节   最小值    最大值     均值     标准差
 J1   -1.1033   0.6286  -0.0167   0.1850
 J2   -0.7341   0.5055  -0.0031   0.1982
 J3   -0.7516   0.9714  -0.0072   0.2110
 J4   -1.9560   0.9597  -0.1384   0.3373
 J5   -1.6630   0.4029  -0.1184   0.2778
 J6   -0.4762   2.3223   0.1360   0.3555
```

**右臂关节力矩 `eff` 统计:**
```
关节   最小值    最大值     均值     标准差
 J1    0.2125   7.3919   4.0439   1.8307
 J2    0.4469   6.9231   3.2045   1.6251
 J3   -1.8974   2.1612   0.1221   0.7557
 J4   -0.9597   1.2479   0.0123   0.5807
 J5   -4.1343   3.2405  -0.1363   2.3341
 J6   -0.3834   0.3687  -0.0238   0.1512
```

#### `/action/left_arm/joint_state` 和 `/action/right_arm/joint_state`

**结构相同，但仅包含位置数据:**
```python
{
  "t": timestamp,
  "data": {
    "pos": [j1, j2, j3, j4, j5, j6],  # 6维关节目标位置
    "vel": None,  # 动作指令中速度为空
    "eff": None   # 动作指令中力矩为空
  }
}
```

#### `/observation/head/joint_state` - 头部关节 (2维)

**数据示例:**
```python
"pos": [-0.0001907, -1.0000381]  # 2个头部关节角度
"vel": [-0.007326, -0.007326]    # 关节速度
"eff": [-0.046398, 0.056166]     # 关节力矩
```

#### `/observation/spine/joint_state` - 腰部关节 (1维)

**数据示例:**
```python
"pos": [0.15001875]  # 腰部高度/角度
"vel": [-0.0]        # 速度
"eff": [0.0]         # 力矩
```

---

## 🤚 xhand_control_data.bson 详细结构

### 文件基本信息
- **文件名:** xhand_control_data.bson
- **文件大小:** 0.28 MB (289 KB)
- **总帧数:** 452 帧
- **采样频率:** 19.87 Hz
- **总时长:** 22.75 秒

### 数据结构

**每帧数据格式:**
```python
{
  "t": 0.200084,  # 时间戳(秒)
  "action": {
    "left_hand": [float64 × 12],   # 左手动作指令 (12维)
    "right_hand": [float64 × 12]   # 右手动作指令 (12维)
  },
  "observation": {
    "left_hand": [float64 × 12],   # 左手传感器观测 (12维)
    "right_hand": [float64 × 12]   # 右手传感器观测 (12维)
  }
}
```

### Action 数据详细统计

#### action.left_hand (12维动作指令)

**数组形状:** (452, 12) - 452帧 × 12维  
**数据类型:** float64  
**内存占用:** 42.38 KB

```
维度      最小值      最大值       均值       标准差     中位数
────────────────────────────────────────────────────────────
  0      0.0212     0.6435     0.4115     0.1679     0.4249
  1      1.2336     1.5094     1.4246     0.0775     1.4420
  2      0.0000     0.0170     0.0016     0.0028     0.0000
  3      0.0108     0.1043     0.0389     0.0163     0.0386
  4      0.0000     0.5782     0.1494     0.1225     0.1177
  5      0.0000     0.0393     0.0053     0.0069     0.0025
  6      0.0000     0.0294     0.0023     0.0052     0.0000
  7      0.0000     0.0073     0.0004     0.0010     0.0000
  8      0.0000     0.0656     0.0011     0.0065     0.0000
  9      0.0000     0.0120     0.0001     0.0011     0.0000
 10      0.0000     0.0307     0.0002     0.0019     0.0000
 11      0.0000     0.2254     0.0069     0.0317     0.0000
```

**数据特点:**
- 维度 0-1: 基础手部姿态，有较大变化范围
- 维度 2-11: 手指精细控制，数值较小，多数接近0

#### action.right_hand (12维动作指令)

**数组形状:** (452, 12)  
**数据类型:** float64

```
维度      最小值      最大值       均值       标准差     中位数
────────────────────────────────────────────────────────────
  0      0.0000     1.3203     0.7761     0.4147     0.9061
  1      0.6834     1.5710     1.2308     0.1902     1.2159
  2      0.0000     1.1559     0.0531     0.1482     0.0000
  3      0.0000     0.1350     0.0070     0.0217     0.0000
  4      0.0000     1.2681     0.2897     0.3751     0.0000
  5      0.0000     1.6661     0.3792     0.5364     0.0000
  6      0.0000     1.1368     0.3359     0.4474     0.0000
  7      0.0000     1.9410     0.4765     0.6733     0.0000
  8      0.0000     1.0573     0.3149     0.4201     0.0000
  9      0.0000     1.9210     0.5151     0.7126     0.0000
 10      0.0000     1.1663     0.2238     0.3261     0.0000
 11      0.0000     1.9210     0.6392     0.8098     0.0000
```

**数据特点:**
- 右手动作范围明显大于左手
- 多个维度的最大值超过1.0，表示更大的运动幅度
- 标准差普遍较大，说明动作变化丰富

### Observation 数据详细统计

#### observation.left_hand (12维传感器观测)

**数组形状:** (452, 12)  
**数据类型:** float64

```
维度      最小值      最大值       均值       标准差     中位数
────────────────────────────────────────────────────────────
  0       2.17      37.23      24.34       9.41      24.34
  1      71.55      85.04      81.43       4.05      83.04
  2      -1.08       6.41      -0.23       0.35      -0.33
  3      -0.57       5.79       2.14       0.90       1.93
  4       0.42      32.48       8.88       6.02       8.33
  5      -3.00      33.57       1.03       1.63       1.08
  6      -0.17       2.33       1.14       0.34       1.17
  7      -0.42       1.25      -0.01       0.12       0.00
  8       0.42       4.16       0.93       0.35       0.83
  9      -1.25       0.58      -0.06       0.35       0.08
 10       0.58       1.58       0.79       0.14       0.75
 11      -0.75      13.83       0.71       1.89       0.33
```

**数据特点:**
- 数值范围远大于 action (例如维度1: 71-85)
- 可能是传感器原始读数，未归一化
- 单位可能是度数或其他物理量

#### observation.right_hand (12维传感器观测)

**数组形状:** (452, 12)  
**数据类型:** float64

```
维度      最小值      最大值       均值       标准差     中位数
────────────────────────────────────────────────────────────
  0      13.83      73.00      46.64      17.56      48.38
  1      36.08      84.33      64.49      13.47      62.75
  2       0.50      24.58       3.06       5.43       0.92
  3      -0.66       7.68       0.41       1.23       0.05
  4      -1.50      57.66      16.14      19.69       2.42
  5      -2.00      94.41      21.67      28.87       2.00
  6      -1.00      54.00      17.82      22.36       1.25
  7      -4.50     110.33      26.02      35.44       1.25
  8      -1.25      55.75      17.89      22.81       1.25
  9      -3.75     112.41      28.58      39.59       0.17
 10       0.50      56.25      12.94      17.11       1.25
 11      -3.92     111.33      35.71      45.18       0.67
```

**数据特点:**
- 右手观测值的范围更大(最大值超过110)
- 标准差很大，表示传感器读数变化剧烈
- 某些维度(如7, 9, 11)最大值超过100

### 关键帧数据示例

**第 1 帧 (t=0.2001秒):**
```python
action.left_hand:  [0.333, 1.359, 0.006, 0.057, 0.014, 0.005, 0, 0, 0, 0, 0, 0.099]
action.right_hand: [0.554, 1.417, 0.022, 0, 0.001, 0.001, 0, 0, 0, 0, 0, 0]
obs.left_hand:     [20.74, 75.55, 6.41, -0.57, 2.17, 33.57, 0.17, 1.25, 0.5, 0.58, 0.67, 6.91]
obs.right_hand:    [35.67, 77.16, 10.75, -0.02, 1.42, 46.08, 2.08, 35.25, 0.58, 11.67, 1.08, 34.25]
```

**第 226 帧 (中间, t=11.6秒):**
```python
action.left_hand:  [0.502, 1.477, 0, 0.015, 0.135, 0.005, 0, 0, 0, 0, 0, 0]
action.right_hand: [1.252, 1.155, 0, 0, 0.835, 1.036, 1.027, 1.196, 1.046, 1.347, 0.768, 1.514]
obs.left_hand:     [26.74, 84.37, -0.25, 1.6, 8.33, 1.17, 1.17, -0.08, 0.75, 0.17, 0.83, 0.17]
obs.right_hand:    [67.16, 48.67, 1, 0.2, 45.67, 56.33, 46.58, 94.66, 48.83, 95.33, 47.42, 102.08]
```

**最后一帧 (t=22.95秒):**
```python
action.left_hand:  [0.109, 1.370, 0, 0.038, 0, 0, 0, 0, 0, 0, 0, 0]
action.right_hand: [0.358, 1.183, 0, 0.013, 0, 0, 0, 0, 0.024, 0.016, 0, 0]
obs.left_hand:     [11.83, 78.46, -0.08, 2.38, 0.92, 1, 1.17, 0, 0.75, 0.08, 0.92, -0.5]
obs.right_hand:    [26.33, 70, 0.67, 1.57, 0.75, 1.92, 1, 1, 1.5, 0.08, 1.25, 1.33]
```

---

## 📊 数据形状速查表

| 数据类型 | 形状/维度 | dtype | 说明 |
|---------|----------|-------|------|
| **图像数据** | | | |
| 单张图像 | (480, 640, 3) | uint8 | 高×宽×通道 |
| 图像序列 | (452, 480, 640, 3) | uint8 | 帧×高×宽×通道 |
| **episode_0.bson** | | | |
| 左/右臂位置 | (452, 3) | float64 | 帧×[x,y,z] |
| 左/右臂旋转 | (452, 4) | float64 | 帧×[qx,qy,qz,qw] |
| 左/右臂关节位置 | (452, 6) | float64 | 帧×关节数 |
| 左/右臂关节速度 | (452, 6) | float64 | 帧×关节数 |
| 左/右臂关节力矩 | (452, 6) | float64 | 帧×关节数 |
| 头部关节 | (452, 2) | float64 | 帧×关节数 |
| 腰部关节 | (452, 1) | float64 | 帧×关节数 |
| **xhand_control_data.bson** | | | |
| action.left_hand | (452, 12) | float64 | 帧×手部维度 |
| action.right_hand | (452, 12) | float64 | 帧×手部维度 |
| observation.left_hand | (452, 12) | float64 | 帧×手部维度 |
| observation.right_hand | (452, 12) | float64 | 帧×手部维度 |

---

## 💡 数据使用建议

### 1. Action vs Observation 的区别

- **Action (动作指令):** 归一化的控制信号，范围通常在 [0, 2] 之间
- **Observation (观测反馈):** 传感器原始读数，范围更大，未归一化

### 2. 数据归一化建议

```python
# 图像归一化
image = image.astype(np.float32) / 255.0  # [0, 1]
image = (image - 0.5) / 0.5  # [-1, 1]

# 关节位置归一化 (根据实际运动范围)
joint_pos_norm = (joint_pos - joint_min) / (joint_max - joint_min)

# observation 数据可能需要按维度分别归一化
obs_norm = (obs - obs_mean) / obs_std
```

### 3. 数据加载顺序

建议的数据加载顺序：
1. 读取 BSON 文件获取时间戳序列
2. 根据时间戳对应加载图像帧
3. 同步所有模态的数据

---

## 📌 重要注意事项

1. **时间戳单位不一致:**
   - episode_0.bson: 毫秒 (Unix timestamp)
   - xhand_control_data.bson: 秒 (相对时间)

2. **action中的vel和eff为None:**
   - 动作指令只包含目标位置
   - 不包含速度和力矩控制

3. **observation范围差异:**
   - 左手和右手的observation范围不同
   - 需要分别归一化处理

4. **右臂运动范围更大:**
   - J4, J5, J6 关节运动范围超过180度
   - 可能是连续旋转关节

---

生成时间: 2025-11-26  
数据来源: action176/episode_0

